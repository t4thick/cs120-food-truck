{% extends "base.html" %}
{% block content %}

<div class="page-header">
    <h1>Your Cart</h1>
</div>

{% if not cart %}
    <p>Your cart is empty.</p>
    <p><a href="{{ url_for('menu_page') }}" class="button">Go to Menu</a></p>
{% else %}

<div class="cart-layout">
    <div class="cart-main">
        <table>
            <tr>
                <th>Item</th>
                <th>Qty</th>
                <th>Price</th>
                <th>Subtotal</th>
            </tr>
            {% for name, item in cart.items() %}
            <tr>
                <td>{{ name }}</td>
                <td>{{ item['qty'] }}</td>
                <td>${{ "%.2f"|format(item['price']) }}</td>
                <td>${{ "%.2f"|format(item['price'] * item['qty']) }}</td>
            </tr>
            {% endfor %}
        </table>
    </div>

    <div class="cart-summary">
        <h2>Order Summary</h2>
        <p><strong>Total:</strong> ${{ "%.2f"|format(total) }}</p>
        <p style="font-size:13px; color:#666;">
            You can review allergen information on the checkout page before we prepare your food.
        </p>
        <p>
            <a href="{{ url_for('menu_page') }}" class="button secondary">Add More Items</a>
        </p>
        <p>
            <a href="{{ url_for('clear_cart') }}" class="button secondary">Clear Cart</a>
        </p>
        <p>
            <a href="{{ url_for('checkout') }}" class="button">Proceed to Checkout</a>
        </p>
    </div>
</div>

{% endif %}

{% endblock %}
